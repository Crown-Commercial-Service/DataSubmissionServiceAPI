class Framework
  module Definition
    class <%= sanitised_framework_short_name %> < Base
      framework_short_name '<%= framework_short_name %>'
      framework_name       '<%= framework_name %>'

      class Invoice < Sheet
        <%= invoice_total_value_field %>

        <%- invoice_fields.each do |field| -%>
        <%= [
              "field #{quote(field['DisplayName'])}",
              activemodel_data_type(field['SystemDataType']),
              exports_to(field),
              invoice_validations[field['DisplayName']]
            ].flatten.compact.join(', ') %>
        <%- end -%>
      end
      <%- if order_fields.any? -%>

      class Order < Sheet
        <%= order_total_value_field %>

        <%- order_fields.each do |field| -%>
        <%= [
              "field #{quote(field['DisplayName'])}",
              activemodel_data_type(field['SystemDataType']),
              exports_to(field),
              invoice_validations[field['DisplayName']]
            ].flatten.compact.join(', ') %>
        <%- end -%>
      end
      <%- end -%>
    end
  end
end
