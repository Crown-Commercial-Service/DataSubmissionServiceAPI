# Removing a task

CCS sometimes need to remove tasks that have been generated by the service. These appear in the admin view and as a call to action to users for new submissions.

To remove a task [we gain console access to the environment](/docs/running-a-console.md) and run destroy commands directly.

## Example

Given the following request:

> The returns to be deleted are RM1557viii Oct 2020

1. Find the relevant framework using the 'short name'
    ```ruby
    framework = Framework.find_by(short_name: "RM1557viii")
    ```
2. Find the relevant tasks using the framework and period date
    ```ruby
    task = Task.find_by(framework_id: framework.id, period_month: 10, period_year: 2020)
    ```
3. Removing the task

  - For tasks _without_ the status of `completed` you can destroy the record:
    ```ruby
    task.destroy
    ```
  - For tasks that _have_ been `completed` you will receive a `PG::NotNullViolation` error as there is a submission attached. To preserve data integrity we do not delete these tasks.
